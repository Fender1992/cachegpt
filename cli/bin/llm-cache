#!/usr/bin/env node

const path = require('path');

// Check if we're running in development (from source) or production (from dist)
const isDev = process.env.NODE_ENV === 'development' || require('fs').existsSync(path.join(__dirname, '../src'));

if (isDev) {
  // Development mode - use ts-node to run TypeScript directly
  require('ts-node').register({
    project: path.join(__dirname, '../tsconfig.json')
  });
  require(path.join(__dirname, '../src/index.ts'));
} else {
  // Production mode - run compiled JavaScript
  require(path.join(__dirname, '../dist/index.js'));
}